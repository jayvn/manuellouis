const translations = {
    en: {
        name: "Manuel Louis",
        title: "Project Manager",
        "nav-home": "Home",
        "nav-projects": "Projects",
        "nav-hobbies": "Hobbies",
        "nav-photography": "Photography",
        "about-title": "About Me",
        "about-text": "I am a project manager with 10+ years of experience in leading cross-functional teams to deliver successful projects.",
        "portfolio-title": "Portfolio",
        project1: "Project 1: Led the development of a new mobile app.",
        project2: "Project 2: Managed the implementation of a new CRM system.",
        project3: "Project 3: Oversaw the launch of a new marketing campaign.",
        "contact-title": "Contact",
        phone: "Phone: 555-123-4567",
        "testimonials-title": "Testimonials",
        "testimonial1-text": '"Best french teacher"',
        "testimonial1-author": "- Jay",
        "testimonial2-text": '"Most handsome guy ever"',
        "testimonial2-author": "- Grandma",
        copyright: "&copy; 2025 Manuel Louis",
        "page-title": "Projects - Manuel Louis", // For projects.html
        "projects-intro": "A selection of projects demonstrating my diverse (and occasionally unbelievable) skillset:",
        "projectA-title": "Project A: Squirrel-Pigeon Peace Treaty",
        "projectA-date": "March 2042 - April 2042",
        "projectA-desc": "Successfully negotiated a lasting peace agreement between warring squirrel and pigeon factions in Central Park.  Mediated disputes over prime nut-gathering and breadcrumb-scavenging territories.  The breakthrough came with the introduction of cashew butter as a universally appreciated food source.  Result: 100% reduction in interspecies squabbles (and a lot of sticky beaks and paws).",
        "projectB-title": "Project B: Time-Traveling Toaster",
        "projectB-date": "January 2045 - Present",
        "projectB-desc": "Developed a revolutionary toaster capable of retrieving bread from the past.  While technically a success (it *does* retrieve bread), the inherent limitations of temporal mechanics result in the bread always being stale upon arrival.  Currently seeking funding for a \"freshness preservation field\" to overcome this hurdle.  Potential applications include historical bread analysis and competitive toast-eating using only ancient grains.",
        "projectC-title": "Project C: Hamster-Built Eiffel Tower",
        "projectC-date": "June 2044 - December 2044",
        "projectC-desc": "Oversaw a team of 50 highly-trained (and surprisingly strong) hamsters in the construction of a 1:1000 scale replica of the Eiffel Tower, constructed entirely from toothpicks and non-toxic glue.  The project faced numerous challenges, including a toothpick shortage and a brief strike over working conditions (resolved with extra sunflower seeds).  The final structure is remarkably accurate and serves as a testament to the power of tiny teamwork.",
        "projects-title": "Projects",
        "hobbies-title": "Hobbies",
        "hobbies-intro": "In my free time, I enjoy:",
        hobby1: "Playing guitar",
        hobby2: "Hiking",
        hobby3: "Cooking",
        hobby4: "Reading",
        "photography-title": "Photography"
    },
    de: {
        name: "Manuel Louis",
        title: "Projektmanager",
        "nav-home": "Startseite",
        "nav-projects": "Projekte",
        "nav-hobbies": "Hobbys",
        "nav-photography": "Fotografie",
        "about-title": "Über mich",
        "about-text": "Ich bin ein Projektmanager mit mehr als 10 Jahren Erfahrung in der Leitung von funktionsübergreifenden Teams zur Durchführung erfolgreicher Projekte.",
        "portfolio-title": "Portfolio",
        project1: "Projekt 1: Leitung der Entwicklung einer neuen mobilen App.",
        project2: "Projekt 2: Verwaltung der Implementierung eines neuen CRM-Systems.",
        project3: "Projekt 3: Überwachung der Einführung einer neuen Marketingkampagne.",
        "contact-title": "Kontakt",
        phone: "Telefon: 555-123-4567",
        "testimonials-title": "Referenzen",
        "testimonial1-text": '"Bester Französischlehrer"',
        "testimonial1-author": "- Jay",
        "testimonial2-text": '"Schönster Mann aller Zeiten"',
        "testimonial2-author": "- Oma",
        copyright: "&copy; 2025 Manuel Louis",
        "page-title": "Projekte - Manuel Louis", // For projects.html
        "projects-intro": "Eine Auswahl von Projekten, die meine vielfältigen (und gelegentlich unglaublichen) Fähigkeiten demonstrieren:",
        "projectA-title": "Projekt A: Eichhörnchen-Tauben-Friedensvertrag",
        "projectA-date": "März 2042 - April 2042",
        "projectA-desc": "Erfolgreich einen dauerhaften Friedensvertrag zwischen streitenden Eichhörnchen- und Taubenfraktionen im Central Park ausgehandelt. Vermittelte Streitigkeiten über erstklassige Nuss-Sammel- und Brotkrumen-Sammelgebiete. Der Durchbruch gelang mit der Einführung von Cashewbutter als allgemein geschätztes Nahrungsmittel. Ergebnis: 100% Reduzierung der Streitereien zwischen den Arten (und viele klebrige Schnäbel und Pfoten).",
        "projectB-title": "Projekt B: Zeitreise-Toaster",
        "projectB-date": "Januar 2045 - Gegenwart",
        "projectB-desc": "Entwickelte einen revolutionären Toaster, der Brot aus der Vergangenheit holen kann. Obwohl technisch ein Erfolg (er *holt* Brot), führen die inhärenten Einschränkungen der Zeitmechanik dazu, dass das Brot bei der Ankunft immer abgestanden ist. Derzeit wird nach Finanzierung für ein \"Frische-Erhaltungsfeld\" gesucht, um diese Hürde zu überwinden. Mögliche Anwendungen sind historische Brotanalyse und wettbewerbsfähiges Toastessen mit ausschließlich alten Körnern.",
        "projectC-title": "Projekt C: Hamster-gebauter Eiffelturm",
        "projectC-date": "Juni 2044 - Dezember 2044",
        "projectC-desc": "Überwachte ein Team von 50 hochtrainierten (und überraschend starken) Hamstern beim Bau einer 1:1000-Nachbildung des Eiffelturms, die vollständig aus Zahnstochern und ungiftigem Klebstoff besteht. Das Projekt stand vor zahlreichen Herausforderungen, darunter ein Mangel an Zahnstochern und ein kurzer Streik wegen der Arbeitsbedingungen (gelöst mit zusätzlichen Sonnenblumenkernen). Die endgültige Struktur ist bemerkenswert genau und dient als Beweis für die Kraft winziger Teamarbeit.",
        "projects-title": "Projekte",
        "hobbies-title": "Hobbys",
        "hobbies-intro": "In meiner Freizeit genieße ich:",
        hobby1: "Gitarre spielen",
        hobby2: "Wandern",
        hobby3: "Kochen",
        hobby4: "Lesen",
        "photography-title": "Fotografie"
    }
};

function changeLanguage(lang) {
    localStorage.setItem('language', lang); // Store the selected language
    setLanguage(lang);

    // Add/remove active class from language buttons
    document.querySelectorAll('.language-switcher button').forEach(btn => {
        btn.classList.remove('active-language');
    });
    document.getElementById(lang + '-btn').classList.add('active-language');
}

function setLanguage(lang) {
    for (const key in translations[lang]) {
        const element = document.getElementById(key);
        if (element) {
            element.innerHTML = translations[lang][key];
        }
    }
     // Update the title attribute for each page
    if(document.title) {
      document.title = translations[lang]["page-title"] ? translations[lang]["page-title"] : document.title;
    }
}

document.addEventListener('DOMContentLoaded', function() {
    // Get the user's preferred language from localStorage or browser settings
    const userLang = localStorage.getItem('language') || navigator.language || navigator.userLanguage;
    const initialLang = userLang.startsWith('de') ? 'de' : 'en';

    // Set the initial language
    setLanguage(initialLang);

    // Add active class to the initially selected language button
    document.getElementById(initialLang + '-btn').classList.add('active-language');

      const galleryDiv = document.getElementById('image-gallery');
        if (galleryDiv) {
            const imageDir = './images/photography/';
            const modal = document.getElementById('image-modal');
            const modalImg = document.getElementById('modal-image');
            const closeBtn = document.querySelector('.close');
            const descriptionPara = document.getElementById('image-description'); // Get the description paragraph

            // Now include descriptions with the image filenames
            const imageFiles = [
                { name: 'photo1.jpg', description: 'A vibrant, abstract nature shot with the word "Nature" overlaid.' },
                { name: 'photo2.jpg', description: 'A close-up of lush green foliage, showcasing the beauty of small plants.' }
            ];


            imageFiles.forEach(imageData => {
                const imageUrl = imageDir + imageData.name;

                const imgElement = document.createElement('img');
                imgElement.src = imageUrl;
                imgElement.alt = 'Photography';
                imgElement.classList.add('gallery-image');
                imgElement.dataset.description = imageData.description; // Store description in data attribute

                galleryDiv.appendChild(imgElement);

                imgElement.addEventListener('click', function() {
                    modal.style.display = "block";
                    modalImg.src = imageUrl;
                    modalImg.alt = imgElement.alt;
                    descriptionPara.textContent = this.dataset.description; // Display the description
                });
            });

            closeBtn.addEventListener('click', function() {
                modal.style.display = "none";
            });

            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        }
});
