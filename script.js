const translations = {
    en: {
        name: "Manuel Louis",
        title: "Project Manager",
        "nav-home": "Home",
        "nav-projects": "Projects",
        "nav-hobbies": "Hobbies",
        "nav-photography": "Photography",
        "about-title": "About Me",
        "about-text": "I am a project manager with 10+ years of experience in leading cross-functional teams to deliver successful projects.",
        "portfolio-title": "Portfolio",
        project1: "Project 1: Led the development of a new mobile app.",
        project2: "Project 2: Managed the implementation of a new CRM system.",
        project3: "Project 3: Oversaw the launch of a new marketing campaign.",
        "contact-title": "Contact",
        phone: "Phone: 555-123-4567",
        "testimonials-title": "Testimonials",
        "testimonial1-text": '"Best french teacher"',
        "testimonial1-author": "- Jay",
        "testimonial2-text": '"Most handsome guy ever"',
        "testimonial2-author": "- Grandma",
        copyright: "&copy; 2025 Manuel Louis",
        "page-title": "Projects - Manuel Louis", // For projects.html
        "projects-intro": "A selection of projects demonstrating my diverse (and occasionally unbelievable) skillset:",
        "projectA-title": "Project A: Squirrel-Pigeon Peace Treaty",
        "projectA-date": "March 2042 - April 2042",
        "projectA-desc": "Successfully negotiated a lasting peace agreement between warring squirrel and pigeon factions in Central Park.  Mediated disputes over prime nut-gathering and breadcrumb-scavenging territories.  The breakthrough came with the introduction of cashew butter as a universally appreciated food source.  Result: 100% reduction in interspecies squabbles (and a lot of sticky beaks and paws).",
        "projectB-title": "Project B: Time-Traveling Toaster",
        "projectB-date": "January 2045 - Present",
        "projectB-desc": "Developed a revolutionary toaster capable of retrieving bread from the past.  While technically a success (it *does* retrieve bread), the inherent limitations of temporal mechanics result in the bread always being stale upon arrival.  Currently seeking funding for a \"freshness preservation field\" to overcome this hurdle.  Potential applications include historical bread analysis and competitive toast-eating using only ancient grains.",
        "projectC-title": "Project C: Hamster-Built Eiffel Tower",
        "projectC-date": "June 2044 - December 2044",
        "projectC-desc": "Oversaw a team of 50 highly-trained (and surprisingly strong) hamsters in the construction of a 1:1000 scale replica of the Eiffel Tower, constructed entirely from toothpicks and non-toxic glue.  The project faced numerous challenges, including a toothpick shortage and a brief strike over working conditions (resolved with extra sunflower seeds).  The final structure is remarkably accurate and serves as a testament to the power of tiny teamwork.",
        "projects-title": "Projects",
        "hobbies-title": "Hobbies",
        "hobbies-intro": "In my free time, I enjoy:",
        hobby1: "Playing guitar",
        hobby2: "Hiking",
        hobby3: "Cooking",
        hobby4: "Reading",
        "photography-title": "Photography",
        "photo1-desc": 'A vibrant, abstract nature shot with the word "Nature" overlaid.',
        "photo2-desc": 'A close-up of lush green foliage, showcasing the beauty of small plants.'
    },
    de: {
        name: "Manuel Louis",
        title: "Projektmanager",
        "nav-home": "Startseite",
        "nav-projects": "Projekte",
        "nav-hobbies": "Hobbys",
        "nav-photography": "Fotografie",
        "about-title": "Über mich",
        "about-text": "Ich bin ein Projektmanager mit mehr als 10 Jahren Erfahrung in der Leitung von funktionsübergreifenden Teams zur Durchführung erfolgreicher Projekte.",
        "portfolio-title": "Portfolio",
        project1: "Projekt 1: Leitung der Entwicklung einer neuen mobilen App.",
        project2: "Projekt 2: Verwaltung der Implementierung eines neuen CRM-Systems.",
        project3: "Projekt 3: Überwachung der Einführung einer neuen Marketingkampagne.",
        "contact-title": "Kontakt",
        phone: "Telefon: 555-123-4567",
        "testimonials-title": "Referenzen",
        "testimonial1-text": '"Bester Französischlehrer"',
        "testimonial1-author": "- Jay",
        "testimonial2-text": '"Schönster Mann aller Zeiten"',
        "testimonial2-author": "- Oma",
        copyright: "&copy; 2025 Manuel Louis",
        "page-title": "Projekte - Manuel Louis", // For projects.html
        "projects-intro": "Eine Auswahl von Projekten, die meine vielfältigen (und gelegentlich unglaublichen) Fähigkeiten demonstrieren:",
        "projectA-title": "Projekt A: Eichhörnchen-Tauben-Friedensvertrag",
        "projectA-date": "März 2042 - April 2042",
        "projectA-desc": "Erfolgreich einen dauerhaften Friedensvertrag zwischen streitenden Eichhörnchen- und Taubenfraktionen im Central Park ausgehandelt. Vermittelte Streitigkeiten über erstklassige Nuss-Sammel- und Brotkrumen-Sammelgebiete. Der Durchbruch gelang mit der Einführung von Cashewbutter als allgemein geschätztes Nahrungsmittel. Ergebnis: 100% Reduzierung der Streitereien zwischen den Arten (und viele klebrige Schnäbel und Pfoten).",
        "projectB-title": "Projekt B: Zeitreise-Toaster",
        "projectB-date": "Januar 2045 - Gegenwart",
        "projectB-desc": "Entwickelte einen revolutionären Toaster, der Brot aus der Vergangenheit holen kann. Obwohl technisch ein Erfolg (er *holt* Brot), führen die inhärenten Einschränkungen der Zeitmechanik dazu, dass das Brot bei der Ankunft immer abgestanden ist. Derzeit wird nach Finanzierung für ein \"Frische-Erhaltungsfeld\" gesucht, um diese Hürde zu überwinden. Mögliche Anwendungen sind historische Brotanalyse und wettbewerbsfähiges Toastessen mit ausschließlich alten Körnern.",
        "projectC-title": "Projekt C: Hamster-gebauter Eiffelturm",
        "projectC-date": "Juni 2044 - Dezember 2044",
        "projectC-desc": "Überwachte ein Team von 50 hochtrainierten (und überraschend starken) Hamstern beim Bau einer 1:1000-Nachbildung des Eiffelturms, die vollständig aus Zahnstochern und ungiftigem Klebstoff besteht. Das Projekt stand vor zahlreichen Herausforderungen, darunter ein Mangel an Zahnstochern und ein kurzer Streik wegen der Arbeitsbedingungen (gelöst mit zusätzlichen Sonnenblumenkernen). Die endgültige Struktur ist bemerkenswert genau und dient als Beweis für die Kraft winziger Teamarbeit.",
        "projects-title": "Projekte",
        "hobbies-title": "Hobbys",
        "hobbies-intro": "In meiner Freizeit genieße ich:",
        hobby1: "Gitarre spielen",
        hobby2: "Wandern",
        hobby3: "Kochen",
        hobby4: "Lesen",
        "photography-title": "Fotografie",
        "photo1-desc": 'Eine lebhafte, abstrakte Naturaufnahme mit dem überlagerten Wort "Natur".',
        "photo2-desc": 'Eine Nahaufnahme von üppigem Grün, die die Schönheit kleiner Pflanzen zeigt.'
    },
    fr: {
        name: "Manuel Louis",
        title: "Chef de Projet",
        "nav-home": "Accueil",
        "nav-projects": "Projets",
        "nav-hobbies": "Loisirs",
        "nav-photography": "Photographie",
        "about-title": "À propos de moi",
        "about-text": "Je suis un chef de projet avec plus de 10 ans d'expérience dans la direction d'équipes interfonctionnelles pour mener à bien des projets.",
        "portfolio-title": "Portfolio",
        project1: "Projet 1 : Direction du développement d'une nouvelle application mobile.",
        project2: "Projet 2 : Gestion de l'implémentation d'un nouveau système CRM.",
        project3: "Projet 3 : Supervision du lancement d'une nouvelle campagne marketing.",
        "contact-title": "Contact",
        phone: "Téléphone : 555-123-4567",
        "testimonials-title": "Témoignages",
        "testimonial1-text": '"Meilleur professeur de français"',
        "testimonial1-author": "- Jay",
        "testimonial2-text": '"Le plus beau mec de tous les temps"',
        "testimonial2-author": "- Mamie",
        copyright: "&copy; 2025 Manuel Louis",
        "page-title": "Projets - Manuel Louis", // For projects.html
        "projects-intro": "Une sélection de projets démontrant mes compétences diverses (et parfois incroyables) :",
        "projectA-title": "Projet A : Traité de paix écureuils-pigeons",
        "projectA-date": "Mars 2042 - Avril 2042",
        "projectA-desc": "Négociation réussie d'un accord de paix durable entre les factions belligérantes d'écureuils et de pigeons à Central Park.  Médiation des différends sur les territoires de collecte de noix et de récupération de miettes de pain.  La percée est venue avec l'introduction du beurre de cajou comme source de nourriture universellement appréciée.  Résultat : 100 % de réduction des querelles inter-espèces (et beaucoup de becs et de pattes collants).",
        "projectB-title": "Projet B : Grille-pain voyageant dans le temps",
        "projectB-date": "Janvier 2045 - Présent",
        "projectB-desc": "Développement d'un grille-pain révolutionnaire capable de récupérer du pain du passé.  Bien que techniquement un succès (il *récupère* du pain), les limitations inhérentes à la mécanique temporelle font que le pain est toujours rassis à l'arrivée.  Recherche actuellement un financement pour un \"champ de conservation de la fraîcheur\" afin de surmonter cet obstacle.  Les applications potentielles incluent l'analyse historique du pain et la consommation de toasts en compétition en utilisant uniquement des grains anciens.",
        "projectC-title": "Projet C : Tour Eiffel construite par des hamsters",
        "projectC-date": "Juin 2044 - Décembre 2044",
        "projectC-desc": "Supervision d'une équipe de 50 hamsters hautement entraînés (et étonnamment forts) dans la construction d'une réplique à l'échelle 1:1000 de la Tour Eiffel, entièrement construite à partir de cure-dents et de colle non toxique.  Le projet a fait face à de nombreux défis, notamment une pénurie de cure-dents et une brève grève concernant les conditions de travail (résolue avec des graines de tournesol supplémentaires).  La structure finale est remarquablement précise et témoigne de la puissance du travail d'équipe minuscule.",
        "projects-title": "Projets",
        "hobbies-title": "Loisirs",
        "hobbies-intro": "Dans mon temps libre, j'aime :",
        hobby1: "Jouer de la guitare",
        hobby2: "Randonnée",
        hobby3: "Cuisine",
        hobby4: "Lecture",
        "photography-title": "Photographie",
        "photo1-desc": 'Un cliché de nature abstrait et vibrant avec le mot "Nature" en surimpression.',
        "photo2-desc": "Un gros plan sur un feuillage vert luxuriant, mettant en valeur la beauté des petites plantes."
    }
};

function changeLanguage(lang) {
    localStorage.setItem('language', lang); // Store the selected language
    setLanguage(lang);

    // Add/remove active class from language buttons
    document.querySelectorAll('.language-switcher button').forEach(btn => {
        btn.classList.remove('active-language');
    });
    document.getElementById(lang + '-btn').classList.add('active-language');
}

function setLanguage(lang) {
    for (const key in translations[lang]) {
        const element = document.getElementById(key);
        if (element) {
            element.innerHTML = translations[lang][key];
        }
    }
     // Update the title attribute for each page
    if(document.title) {
      document.title = translations[lang]["page-title"] ? translations[lang]["page-title"] : document.title;
    }
}

document.addEventListener('DOMContentLoaded', function() {
    // Get the user's preferred language from localStorage or browser settings
    const userLang = localStorage.getItem('language') || navigator.language || navigator.userLanguage;
    const initialLang = userLang.startsWith('de') ? 'de' : (userLang.startsWith('fr') ? 'fr' : 'en');

    // Set the initial language
    setLanguage(initialLang);

    // Add active class to the initially selected language button
    document.getElementById(initialLang + '-btn').classList.add('active-language');

      const galleryDiv = document.getElementById('image-gallery');
        if (galleryDiv) {
            const imageDir = './images/photography/';
            const modal = document.getElementById('image-modal');
            const modalImg = document.getElementById('modal-image');
            const closeBtn = document.querySelector('.close');
            const descriptionPara = document.getElementById('image-description'); // Get the description paragraph

            // Now include descriptions with the image filenames
            const imageFiles = [
                { name: 'photo1.jpg', description: 'photo1-desc' },
                { name: 'photo2.jpg', description: 'photo2-desc' }
            ];


            imageFiles.forEach(imageData => {
                const imageUrl = imageDir + imageData.name;

                const imgElement = document.createElement('img');
                imgElement.src = imageUrl;
                imgElement.alt = 'Photography';
                imgElement.classList.add('gallery-image');
                imgElement.dataset.description = imageData.description; // Store description in data attribute

                galleryDiv.appendChild(imgElement);

                imgElement.addEventListener('click', function() {
                    modal.style.display = "block";
                    modalImg.src = imageUrl;
                    modalImg.alt = imgElement.alt;
                    descriptionPara.textContent = translations[initialLang][this.dataset.description]; // Display the description
                });
            });

            closeBtn.addEventListener('click', function() {
                modal.style.display = "none";
            });

            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        }
});
